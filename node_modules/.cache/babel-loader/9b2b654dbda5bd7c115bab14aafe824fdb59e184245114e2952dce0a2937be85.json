{"ast":null,"code":"var _jsxFileName = \"D:\\\\restaurantPOS\\\\src\\\\pages\\\\SalesPage.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useSale } from '../contexts/SaleContext';\nimport { useNotification } from '../contexts/NotificationContext';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport { useBarcodeScanner } from '../components/BarcodeScanner';\nimport { useReceiptPrinter } from '../components/ReceiptPrinter';\nimport { PlusIcon, MinusIcon, TrashIcon, UserIcon, CreditCardIcon, PrinterIcon, QrCodeIcon, CheckIcon, BanknotesIcon, DevicePhoneMobileIcon } from '@heroicons/react/24/outline';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction SaleItemCard({\n  item,\n  onUpdateQuantity,\n  onUpdateDiscount,\n  onRemove\n}) {\n  _s();\n  const [discountInput, setDiscountInput] = useState(item.discount.toString());\n  const handleDiscountChange = value => {\n    setDiscountInput(value);\n    const discount = parseFloat(value) || 0;\n    if (discount >= 0 && discount <= 100) {\n      onUpdateDiscount(item.product.id, discount);\n    }\n  };\n  const itemTotal = item.product.price * item.quantity * (1 - item.discount / 100);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow p-4 border\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-start justify-between mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold text-gray-900\",\n          children: item.product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: [item.product.brand, \" \", item.product.model]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500\",\n          children: [\"SKU: \", item.product.sku]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onRemove(item.product.id),\n        className: \"p-1 text-red-600 hover:bg-red-50 rounded transition-colors\",\n        children: /*#__PURE__*/_jsxDEV(TrashIcon, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Unit Price:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-medium\",\n          children: [\"\\u20B9\", item.product.price.toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Quantity:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onUpdateQuantity(item.product.id, Math.max(1, item.quantity - 1)),\n            className: \"p-1 text-gray-600 hover:bg-gray-100 rounded transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(MinusIcon, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"w-8 text-center font-medium\",\n            children: item.quantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onUpdateQuantity(item.product.id, item.quantity + 1),\n            className: \"p-1 text-gray-600 hover:bg-gray-100 rounded transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(PlusIcon, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Discount (%):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          min: \"0\",\n          max: \"100\",\n          step: \"0.1\",\n          value: discountInput,\n          onChange: e => handleDiscountChange(e.target.value),\n          className: \"w-16 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between pt-2 border-t\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-medium text-gray-900\",\n          children: \"Total:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-bold text-lg text-blue-600\",\n          children: [\"\\u20B9\", itemTotal.toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ScannerComponent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(SaleItemCard, \"Wk9i7rSbplqLa+xQDE10xqp1768=\");\n_c = SaleItemCard;\nfunction CustomerSelector({\n  selectedCustomer,\n  onSelectCustomer\n}) {\n  _s2();\n  const [isOpen, setIsOpen] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [customers] = useState(mockCustomers);\n  const filteredCustomers = customers.filter(customer => customer.name.toLowerCase().includes(searchTerm.toLowerCase()) || customer.phone.includes(searchTerm) || customer.email.toLowerCase().includes(searchTerm.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setIsOpen(!isOpen),\n      className: \"w-full flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\",\n      children: [/*#__PURE__*/_jsxDEV(UserIcon, {\n        className: \"h-5 w-5 text-gray-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"flex-1 text-left\",\n        children: selectedCustomer ? selectedCustomer.name : 'Select Customer (Optional)'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 max-h-64 overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 border-b\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search customers...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          className: \"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-h-48 overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            onSelectCustomer(null);\n            setIsOpen(false);\n          },\n          className: \"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium\",\n            children: \"Walk-in Customer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: \"No customer details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this), filteredCustomers.map(customer => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            onSelectCustomer(customer);\n            setIsOpen(false);\n          },\n          className: \"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors border-t\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium\",\n            children: customer.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: [customer.phone, \" \\u2022 \", customer.email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 17\n          }, this)]\n        }, customer.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n}\n_s2(CustomerSelector, \"5Zvc2HChyAglWItn0r8cqz5J/0o=\");\n_c2 = CustomerSelector;\nexport default function SalesPage() {\n  _s3();\n  const {\n    user\n  } = useAuth();\n  const {\n    currentSale,\n    addItemToSale,\n    removeItemFromSale,\n    updateItemQuantity,\n    updateItemDiscount,\n    completeSale,\n    cancelSale,\n    calculateTotal,\n    scanBarcode\n  } = useSale();\n  const {\n    addNotification\n  } = useNotification();\n  const {\n    openScanner,\n    ScannerComponent\n  } = useBarcodeScanner();\n  const {\n    showReceipt,\n    ReceiptModal\n  } = useReceiptPrinter();\n  const [selectedCustomer, setSelectedCustomer] = useState(null);\n  const [paymentMethod, setPaymentMethod] = useState('cash');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [showPayment, setShowPayment] = useState(false);\n  const total = calculateTotal();\n  const hasItems = (currentSale === null || currentSale === void 0 ? void 0 : currentSale.items.length) > 0;\n  const handleScanBarcode = async barcode => {\n    try {\n      const product = await scanBarcode(barcode);\n      if (product) {\n        addItemToSale(product, 1);\n        addNotification({\n          type: 'success',\n          title: 'Product Added',\n          message: `${product.name} added to sale`\n        });\n      } else {\n        addNotification({\n          type: 'error',\n          title: 'Product Not Found',\n          message: 'No product found with this barcode'\n        });\n      }\n    } catch (error) {\n      addNotification({\n        type: 'error',\n        title: 'Scan Failed',\n        message: 'Failed to scan barcode'\n      });\n    }\n  };\n  const handleCompleteSale = async () => {\n    if (!hasItems) return;\n    setIsProcessing(true);\n    try {\n      await completeSale(paymentMethod);\n      addNotification({\n        type: 'success',\n        title: 'Sale Completed',\n        message: `Sale completed successfully. Total: ₹${total.toLocaleString()}`\n      });\n\n      // Reset form\n      setSelectedCustomer(null);\n      setPaymentMethod('cash');\n      setShowPayment(false);\n\n      // Show receipt for printing\n      if (currentSale) {\n        showReceipt({\n          sale: {\n            ...currentSale,\n            status: 'completed',\n            paymentMethod,\n            completedAt: new Date()\n          },\n          customer: selectedCustomer,\n          paymentMethod,\n          cashier: (user === null || user === void 0 ? void 0 : user.name) || 'Cashier',\n          shopInfo: {\n            name: 'Electronics Shop POS',\n            address: '123 Tech Street, Electronics Market, City - 123456',\n            phone: '+91 9876543210',\n            email: 'info@electronicsshop.com',\n            gst: 'GST123456789'\n          }\n        });\n      }\n      addNotification({\n        type: 'success',\n        title: 'Sale Completed',\n        message: 'Sale completed successfully. Receipt is ready for printing.'\n      });\n    } catch (error) {\n      addNotification({\n        type: 'error',\n        title: 'Sale Failed',\n        message: 'Failed to complete sale. Please try again.'\n      });\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const handleCancelSale = () => {\n    if (hasItems) {\n      const confirmed = window.confirm('Are you sure you want to cancel this sale? All items will be removed.');\n      if (confirmed) {\n        cancelSale();\n        setSelectedCustomer(null);\n        setPaymentMethod('cash');\n        setShowPayment(false);\n        addNotification({\n          type: 'info',\n          title: 'Sale Cancelled',\n          message: 'Sale has been cancelled'\n        });\n      }\n    }\n  };\n  const paymentIcons = {\n    cash: BanknotesIcon,\n    card: CreditCardIcon,\n    upi: DevicePhoneMobileIcon,\n    bank_transfer: CreditCardIcon\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: \"New Sale\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Scan products or add them manually\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => openScanner(handleScanBarcode),\n          className: \"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(QrCodeIcon, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), \"Scan Barcode\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-2 space-y-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 rounded-lg p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold text-gray-900 mb-4\",\n            children: \"Sale Items\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), hasItems ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: currentSale === null || currentSale === void 0 ? void 0 : currentSale.items.map(item => /*#__PURE__*/_jsxDEV(SaleItemCard, {\n              item: item,\n              onUpdateQuantity: updateItemQuantity,\n              onUpdateDiscount: updateItemDiscount,\n              onRemove: removeItemFromSale\n            }, item.product.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-12\",\n            children: [/*#__PURE__*/_jsxDEV(QrCodeIcon, {\n              className: \"h-12 w-12 text-gray-400 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-gray-500 text-lg\",\n              children: \"No items in sale\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-gray-400 text-sm mt-2\",\n              children: \"Scan a barcode or browse products to add items\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900 mb-3\",\n            children: \"Customer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CustomerSelector, {\n            selectedCustomer: selectedCustomer,\n            onSelectCustomer: setSelectedCustomer\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900 mb-3\",\n            children: \"Sale Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Items:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: (currentSale === null || currentSale === void 0 ? void 0 : currentSale.items.reduce((sum, item) => sum + item.quantity, 0)) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Subtotal:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u20B9\", ((currentSale === null || currentSale === void 0 ? void 0 : currentSale.items.reduce((sum, item) => sum + item.product.price * item.quantity, 0)) || 0).toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Discount:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"-\\u20B9\", (((currentSale === null || currentSale === void 0 ? void 0 : currentSale.items.reduce((sum, item) => sum + item.product.price * item.quantity, 0)) || 0) - total).toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-t pt-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between text-lg font-bold\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Total:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-600\",\n                  children: [\"\\u20B9\", total.toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this), hasItems && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [!showPayment ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowPayment(true),\n              className: \"w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium\",\n              children: \"Proceed to Payment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-2\",\n                  children: \"Payment Method\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-2\",\n                  children: ['cash', 'card', 'upi', 'bank_transfer'].map(method => {\n                    const Icon = paymentIcons[method];\n                    return /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => setPaymentMethod(method),\n                      className: `flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors ${paymentMethod === method ? 'border-blue-500 bg-blue-50 text-blue-700' : 'border-gray-300 hover:bg-gray-50'}`,\n                      children: [/*#__PURE__*/_jsxDEV(Icon, {\n                        className: \"h-4 w-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 424,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-sm capitalize\",\n                        children: method === 'bank_transfer' ? 'Bank' : method\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 425,\n                        columnNumber: 31\n                      }, this)]\n                    }, method, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 415,\n                      columnNumber: 29\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setShowPayment(false),\n                  className: \"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\",\n                  children: \"Back\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleCompleteSale,\n                  disabled: isProcessing,\n                  className: \"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors\",\n                  children: isProcessing ? /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n                    size: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 447,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 29\n                    }, this), \"Complete\"]\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCancelSale,\n              className: \"w-full px-4 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition-colors\",\n              children: \"Cancel Sale\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900 mb-3\",\n            children: \"Quick Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"w-full flex items-center gap-2 px-3 py-2 text-left text-gray-700 hover:bg-gray-50 rounded-lg transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(PrinterIcon, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 17\n              }, this), \"Print Last Receipt\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"w-full flex items-center gap-2 px-3 py-2 text-left text-gray-700 hover:bg-gray-50 rounded-lg transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(UserIcon, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 17\n              }, this), \"Add New Customer\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ScannerComponent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReceiptModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 312,\n    columnNumber: 5\n  }, this);\n}\n\n// Mock data\n_s3(SalesPage, \"dyxsY4sT1CwokU1QVK5dX/6q/ck=\", false, function () {\n  return [useAuth, useSale, useNotification, useBarcodeScanner, useReceiptPrinter];\n});\n_c3 = SalesPage;\nconst mockCustomers = [{\n  id: '1',\n  name: 'John Doe',\n  email: 'john.doe@email.com',\n  phone: '+91 9876543210',\n  address: '123 Main Street, City, State 12345',\n  createdAt: new Date(),\n  totalPurchases: 5,\n  lastVisit: new Date()\n}, {\n  id: '2',\n  name: 'Jane Smith',\n  email: 'jane.smith@email.com',\n  phone: '+91 9876543211',\n  address: '456 Oak Avenue, City, State 12346',\n  createdAt: new Date(),\n  totalPurchases: 3,\n  lastVisit: new Date()\n}, {\n  id: '3',\n  name: 'Mike Johnson',\n  email: 'mike.johnson@email.com',\n  phone: '+91 9876543212',\n  address: '789 Pine Road, City, State 12347',\n  createdAt: new Date(),\n  totalPurchases: 8,\n  lastVisit: new Date()\n}];\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"SaleItemCard\");\n$RefreshReg$(_c2, \"CustomerSelector\");\n$RefreshReg$(_c3, \"SalesPage\");","map":{"version":3,"names":["React","useState","useAuth","useSale","useNotification","LoadingSpinner","useBarcodeScanner","useReceiptPrinter","PlusIcon","MinusIcon","TrashIcon","UserIcon","CreditCardIcon","PrinterIcon","QrCodeIcon","CheckIcon","BanknotesIcon","DevicePhoneMobileIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","SaleItemCard","item","onUpdateQuantity","onUpdateDiscount","onRemove","_s","discountInput","setDiscountInput","discount","toString","handleDiscountChange","value","parseFloat","product","id","itemTotal","price","quantity","className","children","name","fileName","_jsxFileName","lineNumber","columnNumber","brand","model","sku","onClick","toLocaleString","Math","max","type","min","step","onChange","e","target","ScannerComponent","_c","CustomerSelector","selectedCustomer","onSelectCustomer","_s2","isOpen","setIsOpen","searchTerm","setSearchTerm","customers","mockCustomers","filteredCustomers","filter","customer","toLowerCase","includes","phone","email","placeholder","autoFocus","map","_c2","SalesPage","_s3","user","currentSale","addItemToSale","removeItemFromSale","updateItemQuantity","updateItemDiscount","completeSale","cancelSale","calculateTotal","scanBarcode","addNotification","openScanner","showReceipt","ReceiptModal","setSelectedCustomer","paymentMethod","setPaymentMethod","isProcessing","setIsProcessing","showPayment","setShowPayment","total","hasItems","items","length","handleScanBarcode","barcode","title","message","error","handleCompleteSale","sale","status","completedAt","Date","cashier","shopInfo","address","gst","handleCancelSale","confirmed","window","confirm","paymentIcons","cash","card","upi","bank_transfer","reduce","sum","method","Icon","disabled","size","_c3","createdAt","totalPurchases","lastVisit","$RefreshReg$"],"sources":["D:/restaurantPOS/src/pages/SalesPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Sale, SaleItem, Customer, Product } from '../types';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useSale } from '../contexts/SaleContext';\nimport { useNotification } from '../contexts/NotificationContext';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport { useBarcodeScanner } from '../components/BarcodeScanner';\nimport { useReceiptPrinter } from '../components/ReceiptPrinter';\nimport {\n  PlusIcon,\n  MinusIcon,\n  TrashIcon,\n  UserIcon,\n  CreditCardIcon,\n  PrinterIcon,\n  QrCodeIcon,\n  XMarkIcon,\n  CheckIcon,\n  BanknotesIcon,\n  DevicePhoneMobileIcon,\n} from '@heroicons/react/24/outline';\n\ninterface SaleItemCardProps {\n  item: SaleItem;\n  onUpdateQuantity: (productId: string, quantity: number) => void;\n  onUpdateDiscount: (productId: string, discount: number) => void;\n  onRemove: (productId: string) => void;\n}\n\nfunction SaleItemCard({ item, onUpdateQuantity, onUpdateDiscount, onRemove }: SaleItemCardProps) {\n  const [discountInput, setDiscountInput] = useState(item.discount.toString());\n\n  const handleDiscountChange = (value: string) => {\n    setDiscountInput(value);\n    const discount = parseFloat(value) || 0;\n    if (discount >= 0 && discount <= 100) {\n      onUpdateDiscount(item.product.id, discount);\n    }\n  };\n\n  const itemTotal = (item.product.price * item.quantity) * (1 - item.discount / 100);\n\n  return (\n    <div className=\"bg-white rounded-lg shadow p-4 border\">\n      <div className=\"flex items-start justify-between mb-3\">\n        <div className=\"flex-1\">\n          <h3 className=\"font-semibold text-gray-900\">{item.product.name}</h3>\n          <p className=\"text-sm text-gray-600\">{item.product.brand} {item.product.model}</p>\n          <p className=\"text-xs text-gray-500\">SKU: {item.product.sku}</p>\n        </div>\n        <button\n          onClick={() => onRemove(item.product.id)}\n          className=\"p-1 text-red-600 hover:bg-red-50 rounded transition-colors\"\n        >\n          <TrashIcon className=\"h-4 w-4\" />\n        </button>\n      </div>\n\n      <div className=\"space-y-3\">\n        <div className=\"flex items-center justify-between\">\n          <span className=\"text-sm text-gray-600\">Unit Price:</span>\n          <span className=\"font-medium\">₹{item.product.price.toLocaleString()}</span>\n        </div>\n\n        <div className=\"flex items-center justify-between\">\n          <span className=\"text-sm text-gray-600\">Quantity:</span>\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={() => onUpdateQuantity(item.product.id, Math.max(1, item.quantity - 1))}\n              className=\"p-1 text-gray-600 hover:bg-gray-100 rounded transition-colors\"\n            >\n              <MinusIcon className=\"h-4 w-4\" />\n            </button>\n            <span className=\"w-8 text-center font-medium\">{item.quantity}</span>\n            <button\n              onClick={() => onUpdateQuantity(item.product.id, item.quantity + 1)}\n              className=\"p-1 text-gray-600 hover:bg-gray-100 rounded transition-colors\"\n            >\n              <PlusIcon className=\"h-4 w-4\" />\n            </button>\n          </div>\n        </div>\n\n        <div className=\"flex items-center justify-between\">\n          <span className=\"text-sm text-gray-600\">Discount (%):</span>\n          <input\n            type=\"number\"\n            min=\"0\"\n            max=\"100\"\n            step=\"0.1\"\n            value={discountInput}\n            onChange={(e) => handleDiscountChange(e.target.value)}\n            className=\"w-16 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center\"\n          />\n        </div>\n\n        <div className=\"flex items-center justify-between pt-2 border-t\">\n          <span className=\"font-medium text-gray-900\">Total:</span>\n          <span className=\"font-bold text-lg text-blue-600\">₹{itemTotal.toLocaleString()}</span>\n        </div>\n      </div>\n      \n      <ScannerComponent />\n    </div>\n  );\n}\n\ninterface CustomerSelectorProps {\n  selectedCustomer: Customer | null;\n  onSelectCustomer: (customer: Customer | null) => void;\n}\n\nfunction CustomerSelector({ selectedCustomer, onSelectCustomer }: CustomerSelectorProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [customers] = useState<Customer[]>(mockCustomers);\n\n  const filteredCustomers = customers.filter(customer =>\n    customer.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    customer.phone.includes(searchTerm) ||\n    customer.email.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  return (\n    <div className=\"relative\">\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"w-full flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n      >\n        <UserIcon className=\"h-5 w-5 text-gray-400\" />\n        <span className=\"flex-1 text-left\">\n          {selectedCustomer ? selectedCustomer.name : 'Select Customer (Optional)'}\n        </span>\n      </button>\n\n      {isOpen && (\n        <div className=\"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 max-h-64 overflow-hidden\">\n          <div className=\"p-3 border-b\">\n            <input\n              type=\"text\"\n              placeholder=\"Search customers...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              autoFocus\n            />\n          </div>\n          <div className=\"max-h-48 overflow-y-auto\">\n            <button\n              onClick={() => {\n                onSelectCustomer(null);\n                setIsOpen(false);\n              }}\n              className=\"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors\"\n            >\n              <div className=\"font-medium\">Walk-in Customer</div>\n              <div className=\"text-sm text-gray-500\">No customer details</div>\n            </button>\n            {filteredCustomers.map(customer => (\n              <button\n                key={customer.id}\n                onClick={() => {\n                  onSelectCustomer(customer);\n                  setIsOpen(false);\n                }}\n                className=\"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors border-t\"\n              >\n                <div className=\"font-medium\">{customer.name}</div>\n                <div className=\"text-sm text-gray-500\">{customer.phone} • {customer.email}</div>\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default function SalesPage() {\n  const { user } = useAuth();\n  const {\n    currentSale,\n    addItemToSale,\n    removeItemFromSale,\n    updateItemQuantity,\n    updateItemDiscount,\n    completeSale,\n    cancelSale,\n    calculateTotal,\n    scanBarcode,\n  } = useSale();\n  const { addNotification } = useNotification();\n  const { openScanner, ScannerComponent } = useBarcodeScanner();\n  const { showReceipt, ReceiptModal } = useReceiptPrinter();\n  \n  const [selectedCustomer, setSelectedCustomer] = useState<Customer | null>(null);\n  const [paymentMethod, setPaymentMethod] = useState<'cash' | 'card' | 'upi' | 'bank_transfer'>('cash');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [showPayment, setShowPayment] = useState(false);\n\n  const total = calculateTotal();\n  const hasItems = currentSale?.items.length > 0;\n\n  const handleScanBarcode = async (barcode: string) => {\n    try {\n      const product = await scanBarcode(barcode);\n      if (product) {\n        addItemToSale(product, 1);\n        addNotification({\n          type: 'success',\n          title: 'Product Added',\n          message: `${product.name} added to sale`,\n        });\n      } else {\n        addNotification({\n          type: 'error',\n          title: 'Product Not Found',\n          message: 'No product found with this barcode',\n        });\n      }\n    } catch (error) {\n      addNotification({\n        type: 'error',\n        title: 'Scan Failed',\n        message: 'Failed to scan barcode',\n      });\n    }\n  };\n\n  const handleCompleteSale = async () => {\n    if (!hasItems) return;\n\n    setIsProcessing(true);\n    try {\n      await completeSale(paymentMethod);\n      \n      addNotification({\n        type: 'success',\n        title: 'Sale Completed',\n        message: `Sale completed successfully. Total: ₹${total.toLocaleString()}`,\n      });\n      \n      // Reset form\n      setSelectedCustomer(null);\n      setPaymentMethod('cash');\n      setShowPayment(false);\n      \n      // Show receipt for printing\n      if (currentSale) {\n        showReceipt({\n          sale: {\n            ...currentSale,\n            status: 'completed',\n            paymentMethod,\n            completedAt: new Date(),\n          },\n          customer: selectedCustomer,\n          paymentMethod,\n          cashier: user?.name || 'Cashier',\n          shopInfo: {\n            name: 'Electronics Shop POS',\n            address: '123 Tech Street, Electronics Market, City - 123456',\n            phone: '+91 9876543210',\n            email: 'info@electronicsshop.com',\n            gst: 'GST123456789',\n          },\n        });\n      }\n      \n      addNotification({\n        type: 'success',\n        title: 'Sale Completed',\n        message: 'Sale completed successfully. Receipt is ready for printing.',\n      });\n      \n    } catch (error) {\n      addNotification({\n        type: 'error',\n        title: 'Sale Failed',\n        message: 'Failed to complete sale. Please try again.',\n      });\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const handleCancelSale = () => {\n    if (hasItems) {\n      const confirmed = window.confirm('Are you sure you want to cancel this sale? All items will be removed.');\n      if (confirmed) {\n        cancelSale();\n        setSelectedCustomer(null);\n        setPaymentMethod('cash');\n        setShowPayment(false);\n        addNotification({\n          type: 'info',\n          title: 'Sale Cancelled',\n          message: 'Sale has been cancelled',\n        });\n      }\n    }\n  };\n\n  const paymentIcons = {\n    cash: BanknotesIcon,\n    card: CreditCardIcon,\n    upi: DevicePhoneMobileIcon,\n    bank_transfer: CreditCardIcon,\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto space-y-6\">\n      {/* Header */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">New Sale</h1>\n          <p className=\"text-gray-600\">Scan products or add them manually</p>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <button\n            onClick={() => openScanner(handleScanBarcode)}\n            className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n          >\n            <QrCodeIcon className=\"h-5 w-5\" />\n            Scan Barcode\n          </button>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Sale Items */}\n        <div className=\"lg:col-span-2 space-y-4\">\n          <div className=\"bg-gray-50 rounded-lg p-4\">\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Sale Items</h2>\n            \n            {hasItems ? (\n              <div className=\"space-y-4\">\n                {currentSale?.items.map(item => (\n                  <SaleItemCard\n                    key={item.product.id}\n                    item={item}\n                    onUpdateQuantity={updateItemQuantity}\n                    onUpdateDiscount={updateItemDiscount}\n                    onRemove={removeItemFromSale}\n                  />\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-center py-12\">\n                <QrCodeIcon className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                <div className=\"text-gray-500 text-lg\">No items in sale</div>\n                <div className=\"text-gray-400 text-sm mt-2\">\n                  Scan a barcode or browse products to add items\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Sale Summary */}\n        <div className=\"space-y-4\">\n          {/* Customer Selection */}\n          <div className=\"bg-white rounded-lg shadow p-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Customer</h3>\n            <CustomerSelector\n              selectedCustomer={selectedCustomer}\n              onSelectCustomer={setSelectedCustomer}\n            />\n          </div>\n\n          {/* Sale Total */}\n          <div className=\"bg-white rounded-lg shadow p-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Sale Summary</h3>\n            \n            <div className=\"space-y-2 mb-4\">\n              <div className=\"flex justify-between text-sm\">\n                <span>Items:</span>\n                <span>{currentSale?.items.reduce((sum, item) => sum + item.quantity, 0) || 0}</span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span>Subtotal:</span>\n                <span>₹{(currentSale?.items.reduce((sum, item) => sum + (item.product.price * item.quantity), 0) || 0).toLocaleString()}</span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span>Discount:</span>\n                <span>-₹{((currentSale?.items.reduce((sum, item) => sum + (item.product.price * item.quantity), 0) || 0) - total).toLocaleString()}</span>\n              </div>\n              <div className=\"border-t pt-2\">\n                <div className=\"flex justify-between text-lg font-bold\">\n                  <span>Total:</span>\n                  <span className=\"text-blue-600\">₹{total.toLocaleString()}</span>\n                </div>\n              </div>\n            </div>\n\n            {hasItems && (\n              <div className=\"space-y-3\">\n                {!showPayment ? (\n                  <button\n                    onClick={() => setShowPayment(true)}\n                    className=\"w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium\"\n                  >\n                    Proceed to Payment\n                  </button>\n                ) : (\n                  <div className=\"space-y-3\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Payment Method\n                      </label>\n                      <div className=\"grid grid-cols-2 gap-2\">\n                        {(['cash', 'card', 'upi', 'bank_transfer'] as const).map(method => {\n                          const Icon = paymentIcons[method];\n                          return (\n                            <button\n                              key={method}\n                              onClick={() => setPaymentMethod(method)}\n                              className={`flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors ${\n                                paymentMethod === method\n                                  ? 'border-blue-500 bg-blue-50 text-blue-700'\n                                  : 'border-gray-300 hover:bg-gray-50'\n                              }`}\n                            >\n                              <Icon className=\"h-4 w-4\" />\n                              <span className=\"text-sm capitalize\">\n                                {method === 'bank_transfer' ? 'Bank' : method}\n                              </span>\n                            </button>\n                          );\n                        })}\n                      </div>\n                    </div>\n\n                    <div className=\"flex gap-2\">\n                      <button\n                        onClick={() => setShowPayment(false)}\n                        className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\n                      >\n                        Back\n                      </button>\n                      <button\n                        onClick={handleCompleteSale}\n                        disabled={isProcessing}\n                        className=\"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors\"\n                      >\n                        {isProcessing ? (\n                          <LoadingSpinner size=\"small\" />\n                        ) : (\n                          <>\n                            <CheckIcon className=\"h-4 w-4\" />\n                            Complete\n                          </>\n                        )}\n                      </button>\n                    </div>\n                  </div>\n                )}\n\n                <button\n                  onClick={handleCancelSale}\n                  className=\"w-full px-4 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition-colors\"\n                >\n                  Cancel Sale\n                </button>\n              </div>\n            )}\n          </div>\n\n          {/* Quick Actions */}\n          <div className=\"bg-white rounded-lg shadow p-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Quick Actions</h3>\n            <div className=\"space-y-2\">\n              <button className=\"w-full flex items-center gap-2 px-3 py-2 text-left text-gray-700 hover:bg-gray-50 rounded-lg transition-colors\">\n                <PrinterIcon className=\"h-4 w-4\" />\n                Print Last Receipt\n              </button>\n              <button className=\"w-full flex items-center gap-2 px-3 py-2 text-left text-gray-700 hover:bg-gray-50 rounded-lg transition-colors\">\n                <UserIcon className=\"h-4 w-4\" />\n                Add New Customer\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <ScannerComponent />\n      <ReceiptModal />\n    </div>\n  );\n}\n\n// Mock data\nconst mockCustomers: Customer[] = [\n  {\n    id: '1',\n    name: 'John Doe',\n    email: 'john.doe@email.com',\n    phone: '+91 9876543210',\n    address: '123 Main Street, City, State 12345',\n    createdAt: new Date(),\n    totalPurchases: 5,\n    lastVisit: new Date(),\n  },\n  {\n    id: '2',\n    name: 'Jane Smith',\n    email: 'jane.smith@email.com',\n    phone: '+91 9876543211',\n    address: '456 Oak Avenue, City, State 12346',\n    createdAt: new Date(),\n    totalPurchases: 3,\n    lastVisit: new Date(),\n  },\n  {\n    id: '3',\n    name: 'Mike Johnson',\n    email: 'mike.johnson@email.com',\n    phone: '+91 9876543212',\n    address: '789 Pine Road, City, State 12347',\n    createdAt: new Date(),\n    totalPurchases: 8,\n    lastVisit: new Date(),\n  },\n];"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}