{"ast":null,"code":"import React,{useState}from\"react\";import{PrinterIcon}from\"@heroicons/react/24/outline\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const defaultShopInfo={name:\"Electronics Shop POS\",address:\"123 Tech Street, Electronics Market, City - 123456\",phone:\"+91 9876543210\",email:\"info@electronicsshop.com\",gst:\"GST123456789\"};export function ReceiptPrinter(_ref){let{receiptData,onPrint}=_ref;const[isPrinting,setIsPrinting]=useState(false);const handlePrint=async()=>{setIsPrinting(true);try{// Create a new window for printing\nconst printWindow=window.open(\"\",\"_blank\");if(printWindow){printWindow.document.write(generateReceiptHTML(receiptData));printWindow.document.close();printWindow.focus();printWindow.print();printWindow.close();}onPrint();}catch(error){console.error(\"Print failed:\",error);}finally{setIsPrinting(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border rounded-lg p-4 max-h-96 overflow-y-auto\",children:/*#__PURE__*/_jsx(ReceiptPreview,{receiptData:receiptData})}),/*#__PURE__*/_jsxs(\"button\",{onClick:handlePrint,disabled:isPrinting,className:\"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors\",children:[/*#__PURE__*/_jsx(PrinterIcon,{className:\"h-4 w-4\"}),isPrinting?\"Printing...\":\"Print Receipt\"]})]});}function ReceiptPreview(_ref2){let{receiptData}=_ref2;const{sale,customer,paymentMethod,cashier,shopInfo}=receiptData;const subtotal=sale.items.reduce((sum,item)=>sum+item.product.price*item.quantity,0);const discount=subtotal-sale.total;const tax=sale.total*0.18;// 18% GST\nconst finalTotal=sale.total+tax;return/*#__PURE__*/_jsxs(\"div\",{className:\"font-mono text-sm space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center border-b pb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-lg\",children:shopInfo.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs\",children:shopInfo.address}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs\",children:[\"Phone: \",shopInfo.phone]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs\",children:[\"Email: \",shopInfo.email]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs\",children:[\"GST: \",shopInfo.gst]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-b pb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Receipt #:\"}),/*#__PURE__*/_jsx(\"span\",{children:sale.id.slice(-8).toUpperCase()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Date:\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(sale.createdAt).toLocaleString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Cashier:\"}),/*#__PURE__*/_jsx(\"span\",{children:cashier})]}),customer&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Customer:\"}),/*#__PURE__*/_jsx(\"span\",{children:customer.name})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-b pb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold mb-1\",children:\"ITEMS:\"}),sale.items.map((item,index)=>{var _item$discount;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"truncate\",children:item.product.name}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",item.product.price.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-gray-600\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Qty: \",item.quantity,\" x \\u20B9\",item.product.price.toLocaleString()]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",(item.product.price*item.quantity).toLocaleString()]})]}),((_item$discount=item.discount)!==null&&_item$discount!==void 0?_item$discount:0)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-red-600\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Discount:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"-\\u20B9\",(item.discount||0).toLocaleString()]})]})]},index);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-b pb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Subtotal:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",subtotal.toLocaleString()]})]}),discount>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-red-600\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Discount:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"-\\u20B9\",discount.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"GST (18%):\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",tax.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between font-bold text-lg\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"TOTAL:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",finalTotal.toLocaleString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-b pb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Payment Method:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"capitalize\",children:paymentMethod.replace(\"_\",\" \")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Amount Paid:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",finalTotal.toLocaleString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-xs pt-2\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Thank you for shopping with us!\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Visit us again soon!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:\"*** CUSTOMER COPY ***\"})]})]});}function generateReceiptHTML(receiptData){const{sale,customer,paymentMethod,cashier,shopInfo}=receiptData;const subtotal=sale.items.reduce((sum,item)=>sum+item.product.price*item.quantity,0);const discount=subtotal-sale.total;const tax=sale.total*0.18;const finalTotal=sale.total+tax;return`\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <title>Receipt - ${sale.id}</title>\n      <style>\n        body {\n          font-family: 'Courier New', monospace;\n          font-size: 12px;\n          line-height: 1.4;\n          margin: 0;\n          padding: 20px;\n          width: 300px;\n        }\n        .center { text-align: center; }\n        .bold { font-weight: bold; }\n        .border-bottom { border-bottom: 1px dashed #000; padding-bottom: 8px; margin-bottom: 8px; }\n        .flex { display: flex; justify-content: space-between; }\n        .item { margin-bottom: 4px; }\n        .total { font-size: 14px; font-weight: bold; }\n        @media print {\n          body { margin: 0; padding: 10px; }\n        }\n      </style>\n    </head>\n    <body>\n      <div class=\"center border-bottom\">\n        <div class=\"bold\" style=\"font-size: 16px;\">${shopInfo.name}</div>\n        <div>${shopInfo.address}</div>\n        <div>Phone: ${shopInfo.phone}</div>\n        <div>Email: ${shopInfo.email}</div>\n        <div>GST: ${shopInfo.gst}</div>\n      </div>\n      \n      <div class=\"border-bottom\">\n        <div class=\"flex\"><span>Receipt #:</span><span>${sale.id.slice(-8).toUpperCase()}</span></div>\n        <div class=\"flex\"><span>Date:</span><span>${new Date(sale.createdAt).toLocaleString()}</span></div>\n        <div class=\"flex\"><span>Cashier:</span><span>${cashier}</span></div>\n        ${customer?`<div class=\"flex\"><span>Customer:</span><span>${customer.name}</span></div>`:\"\"}\n      </div>\n      \n      <div class=\"border-bottom\">\n        <div class=\"bold\">ITEMS:</div>\n        ${sale.items.map(item=>{var _item$discount2,_item$discount3;return`\n          <div class=\"item\">\n            <div class=\"flex\">\n              <span>${item.product.name}</span>\n              <span>₹${item.product.price.toLocaleString()}</span>\n            </div>\n            <div class=\"flex\" style=\"font-size: 10px;\">\n              <span>Qty: ${item.quantity} x ₹${item.product.price.toLocaleString()}</span>\n              <span>₹${(item.product.price*item.quantity).toLocaleString()}</span>\n            </div>\n            ${((_item$discount2=item.discount)!==null&&_item$discount2!==void 0?_item$discount2:0)>0?`<div class=\"flex\" style=\"font-size: 10px; color: #666;\"><span>Discount:</span><span>-₹${((_item$discount3=item.discount)!==null&&_item$discount3!==void 0?_item$discount3:0).toLocaleString()}</span></div>`:\"\"}\n          </div>\n        `;}).join(\"\")}\n      </div>\n      \n      <div class=\"border-bottom\">\n        <div class=\"flex\"><span>Subtotal:</span><span>₹${subtotal.toLocaleString()}</span></div>\n        ${discount>0?`<div class=\"flex\"><span>Discount:</span><span>-₹${discount.toLocaleString()}</span></div>`:\"\"}\n        <div class=\"flex\"><span>GST (18%):</span><span>₹${tax.toLocaleString()}</span></div>\n        <div class=\"flex total\"><span>TOTAL:</span><span>₹${finalTotal.toLocaleString()}</span></div>\n      </div>\n      \n      <div class=\"border-bottom\">\n        <div class=\"flex\"><span>Payment Method:</span><span>${paymentMethod.replace(\"_\",\" \").toUpperCase()}</span></div>\n        <div class=\"flex\"><span>Amount Paid:</span><span>₹${finalTotal.toLocaleString()}</span></div>\n      </div>\n      \n      <div class=\"center\" style=\"margin-top: 16px;\">\n        <div>Thank you for shopping with us!</div>\n        <div>Visit us again soon!</div>\n        <div style=\"margin-top: 8px;\">*** CUSTOMER COPY ***</div>\n      </div>\n    </body>\n    </html>\n  `;}export default ReceiptPrinter;// Hook for using receipt printer\nexport function useReceiptPrinter(){const[isVisible,setIsVisible]=useState(false);const[receiptData,setReceiptData]=useState(null);const showReceipt=data=>{setReceiptData(data);setIsVisible(true);};const hideReceipt=()=>{setIsVisible(false);setReceiptData(null);};const ReceiptModal=()=>{if(!isVisible||!receiptData)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 max-w-md w-full mx-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Receipt Preview\"}),/*#__PURE__*/_jsx(\"button\",{onClick:hideReceipt,className:\"text-gray-400 hover:text-gray-600\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(ReceiptPrinter,{receiptData:receiptData,onPrint:hideReceipt})]})});};return{showReceipt,hideReceipt,ReceiptModal};}","map":{"version":3,"names":["React","useState","PrinterIcon","jsx","_jsx","jsxs","_jsxs","defaultShopInfo","name","address","phone","email","gst","ReceiptPrinter","_ref","receiptData","onPrint","isPrinting","setIsPrinting","handlePrint","printWindow","window","open","document","write","generateReceiptHTML","close","focus","print","error","console","className","children","ReceiptPreview","onClick","disabled","_ref2","sale","customer","paymentMethod","cashier","shopInfo","subtotal","items","reduce","sum","item","product","price","quantity","discount","total","tax","finalTotal","id","slice","toUpperCase","Date","createdAt","toLocaleString","map","index","_item$discount","replace","_item$discount2","_item$discount3","join","useReceiptPrinter","isVisible","setIsVisible","setReceiptData","showReceipt","data","hideReceipt","ReceiptModal"],"sources":["D:/restaurantPOS/src/components/ReceiptPrinter.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Sale, Customer } from \"../types\";\nimport { PrinterIcon } from \"@heroicons/react/24/outline\";\n\ninterface ReceiptData {\n  sale: Sale;\n  customer: Customer | null;\n  paymentMethod: string;\n  cashier: string;\n  shopInfo: {\n    name: string;\n    address: string;\n    phone: string;\n    email: string;\n    gst: string;\n  };\n}\n\ninterface ReceiptPrinterProps {\n  receiptData: ReceiptData;\n  onPrint: () => void;\n}\n\nconst defaultShopInfo = {\n  name: \"Electronics Shop POS\",\n  address: \"123 Tech Street, Electronics Market, City - 123456\",\n  phone: \"+91 9876543210\",\n  email: \"info@electronicsshop.com\",\n  gst: \"GST123456789\",\n};\n\nexport function ReceiptPrinter({ receiptData, onPrint }: ReceiptPrinterProps) {\n  const [isPrinting, setIsPrinting] = useState(false);\n\n  const handlePrint = async () => {\n    setIsPrinting(true);\n    try {\n      // Create a new window for printing\n      const printWindow = window.open(\"\", \"_blank\");\n      if (printWindow) {\n        printWindow.document.write(generateReceiptHTML(receiptData));\n        printWindow.document.close();\n        printWindow.focus();\n        printWindow.print();\n        printWindow.close();\n      }\n      onPrint();\n    } catch (error) {\n      console.error(\"Print failed:\", error);\n    } finally {\n      setIsPrinting(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Receipt Preview */}\n      <div className=\"bg-white border rounded-lg p-4 max-h-96 overflow-y-auto\">\n        <ReceiptPreview receiptData={receiptData} />\n      </div>\n\n      {/* Print Button */}\n      <button\n        onClick={handlePrint}\n        disabled={isPrinting}\n        className=\"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors\"\n      >\n        <PrinterIcon className=\"h-4 w-4\" />\n        {isPrinting ? \"Printing...\" : \"Print Receipt\"}\n      </button>\n    </div>\n  );\n}\n\nfunction ReceiptPreview({ receiptData }: { receiptData: ReceiptData }) {\n  const { sale, customer, paymentMethod, cashier, shopInfo } = receiptData;\n  const subtotal = sale.items.reduce(\n    (sum, item) => sum + item.product.price * item.quantity,\n    0\n  );\n  const discount = subtotal - sale.total;\n  const tax = sale.total * 0.18; // 18% GST\n  const finalTotal = sale.total + tax;\n\n  return (\n    <div className=\"font-mono text-sm space-y-2\">\n      {/* Header */}\n      <div className=\"text-center border-b pb-2\">\n        <div className=\"font-bold text-lg\">{shopInfo.name}</div>\n        <div className=\"text-xs\">{shopInfo.address}</div>\n        <div className=\"text-xs\">Phone: {shopInfo.phone}</div>\n        <div className=\"text-xs\">Email: {shopInfo.email}</div>\n        <div className=\"text-xs\">GST: {shopInfo.gst}</div>\n      </div>\n\n      {/* Sale Info */}\n      <div className=\"border-b pb-2\">\n        <div className=\"flex justify-between\">\n          <span>Receipt #:</span>\n          <span>{sale.id.slice(-8).toUpperCase()}</span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span>Date:</span>\n          <span>{new Date(sale.createdAt).toLocaleString()}</span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span>Cashier:</span>\n          <span>{cashier}</span>\n        </div>\n        {customer && (\n          <div className=\"flex justify-between\">\n            <span>Customer:</span>\n            <span>{customer.name}</span>\n          </div>\n        )}\n      </div>\n\n      {/* Items */}\n      <div className=\"border-b pb-2\">\n        <div className=\"font-bold mb-1\">ITEMS:</div>\n        {sale.items.map((item, index) => (\n          <div key={index} className=\"space-y-1\">\n            <div className=\"flex justify-between\">\n              <span className=\"truncate\">{item.product.name}</span>\n              <span>₹{item.product.price.toLocaleString()}</span>\n            </div>\n            <div className=\"flex justify-between text-xs text-gray-600\">\n              <span>\n                Qty: {item.quantity} x ₹{item.product.price.toLocaleString()}\n              </span>\n              <span>\n                ₹{(item.product.price * item.quantity).toLocaleString()}\n              </span>\n            </div>\n            {(item.discount ?? 0) > 0 && (\n              <div className=\"flex justify-between text-xs text-red-600\">\n                <span>Discount:</span>\n                <span>-₹{(item.discount || 0).toLocaleString()}</span>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n\n      {/* Totals */}\n      <div className=\"border-b pb-2\">\n        <div className=\"flex justify-between\">\n          <span>Subtotal:</span>\n          <span>₹{subtotal.toLocaleString()}</span>\n        </div>\n        {discount > 0 && (\n          <div className=\"flex justify-between text-red-600\">\n            <span>Discount:</span>\n            <span>-₹{discount.toLocaleString()}</span>\n          </div>\n        )}\n        <div className=\"flex justify-between\">\n          <span>GST (18%):</span>\n          <span>₹{tax.toLocaleString()}</span>\n        </div>\n        <div className=\"flex justify-between font-bold text-lg\">\n          <span>TOTAL:</span>\n          <span>₹{finalTotal.toLocaleString()}</span>\n        </div>\n      </div>\n\n      {/* Payment */}\n      <div className=\"border-b pb-2\">\n        <div className=\"flex justify-between\">\n          <span>Payment Method:</span>\n          <span className=\"capitalize\">{paymentMethod.replace(\"_\", \" \")}</span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span>Amount Paid:</span>\n          <span>₹{finalTotal.toLocaleString()}</span>\n        </div>\n      </div>\n\n      {/* Footer */}\n      <div className=\"text-center text-xs pt-2\">\n        <div>Thank you for shopping with us!</div>\n        <div>Visit us again soon!</div>\n        <div className=\"mt-2\">*** CUSTOMER COPY ***</div>\n      </div>\n    </div>\n  );\n}\n\nfunction generateReceiptHTML(receiptData: ReceiptData): string {\n  const { sale, customer, paymentMethod, cashier, shopInfo } = receiptData;\n  const subtotal = sale.items.reduce(\n    (sum, item) => sum + item.product.price * item.quantity,\n    0\n  );\n  const discount = subtotal - sale.total;\n  const tax = sale.total * 0.18;\n  const finalTotal = sale.total + tax;\n\n  return `\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <title>Receipt - ${sale.id}</title>\n      <style>\n        body {\n          font-family: 'Courier New', monospace;\n          font-size: 12px;\n          line-height: 1.4;\n          margin: 0;\n          padding: 20px;\n          width: 300px;\n        }\n        .center { text-align: center; }\n        .bold { font-weight: bold; }\n        .border-bottom { border-bottom: 1px dashed #000; padding-bottom: 8px; margin-bottom: 8px; }\n        .flex { display: flex; justify-content: space-between; }\n        .item { margin-bottom: 4px; }\n        .total { font-size: 14px; font-weight: bold; }\n        @media print {\n          body { margin: 0; padding: 10px; }\n        }\n      </style>\n    </head>\n    <body>\n      <div class=\"center border-bottom\">\n        <div class=\"bold\" style=\"font-size: 16px;\">${shopInfo.name}</div>\n        <div>${shopInfo.address}</div>\n        <div>Phone: ${shopInfo.phone}</div>\n        <div>Email: ${shopInfo.email}</div>\n        <div>GST: ${shopInfo.gst}</div>\n      </div>\n      \n      <div class=\"border-bottom\">\n        <div class=\"flex\"><span>Receipt #:</span><span>${sale.id\n          .slice(-8)\n          .toUpperCase()}</span></div>\n        <div class=\"flex\"><span>Date:</span><span>${new Date(\n          sale.createdAt\n        ).toLocaleString()}</span></div>\n        <div class=\"flex\"><span>Cashier:</span><span>${cashier}</span></div>\n        ${\n          customer\n            ? `<div class=\"flex\"><span>Customer:</span><span>${customer.name}</span></div>`\n            : \"\"\n        }\n      </div>\n      \n      <div class=\"border-bottom\">\n        <div class=\"bold\">ITEMS:</div>\n        ${sale.items\n          .map(\n            (item) => `\n          <div class=\"item\">\n            <div class=\"flex\">\n              <span>${item.product.name}</span>\n              <span>₹${item.product.price.toLocaleString()}</span>\n            </div>\n            <div class=\"flex\" style=\"font-size: 10px;\">\n              <span>Qty: ${\n                item.quantity\n              } x ₹${item.product.price.toLocaleString()}</span>\n              <span>₹${(\n                item.product.price * item.quantity\n              ).toLocaleString()}</span>\n            </div>\n            ${\n              (item.discount ?? 0) > 0\n                ? `<div class=\"flex\" style=\"font-size: 10px; color: #666;\"><span>Discount:</span><span>-₹${(\n                    item.discount ?? 0\n                  ).toLocaleString()}</span></div>`\n                : \"\"\n            }\n          </div>\n        `\n          )\n          .join(\"\")}\n      </div>\n      \n      <div class=\"border-bottom\">\n        <div class=\"flex\"><span>Subtotal:</span><span>₹${subtotal.toLocaleString()}</span></div>\n        ${\n          discount > 0\n            ? `<div class=\"flex\"><span>Discount:</span><span>-₹${discount.toLocaleString()}</span></div>`\n            : \"\"\n        }\n        <div class=\"flex\"><span>GST (18%):</span><span>₹${tax.toLocaleString()}</span></div>\n        <div class=\"flex total\"><span>TOTAL:</span><span>₹${finalTotal.toLocaleString()}</span></div>\n      </div>\n      \n      <div class=\"border-bottom\">\n        <div class=\"flex\"><span>Payment Method:</span><span>${paymentMethod\n          .replace(\"_\", \" \")\n          .toUpperCase()}</span></div>\n        <div class=\"flex\"><span>Amount Paid:</span><span>₹${finalTotal.toLocaleString()}</span></div>\n      </div>\n      \n      <div class=\"center\" style=\"margin-top: 16px;\">\n        <div>Thank you for shopping with us!</div>\n        <div>Visit us again soon!</div>\n        <div style=\"margin-top: 8px;\">*** CUSTOMER COPY ***</div>\n      </div>\n    </body>\n    </html>\n  `;\n}\n\nexport default ReceiptPrinter;\n\n// Hook for using receipt printer\nexport function useReceiptPrinter() {\n  const [isVisible, setIsVisible] = useState(false);\n  const [receiptData, setReceiptData] = useState<ReceiptData | null>(null);\n\n  const showReceipt = (data: ReceiptData) => {\n    setReceiptData(data);\n    setIsVisible(true);\n  };\n\n  const hideReceipt = () => {\n    setIsVisible(false);\n    setReceiptData(null);\n  };\n\n  const ReceiptModal = () => {\n    if (!isVisible || !receiptData) return null;\n\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n        <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h3 className=\"text-lg font-semibold\">Receipt Preview</h3>\n            <button\n              onClick={hideReceipt}\n              className=\"text-gray-400 hover:text-gray-600\"\n            >\n              ×\n            </button>\n          </div>\n          <ReceiptPrinter receiptData={receiptData} onPrint={hideReceipt} />\n        </div>\n      </div>\n    );\n  };\n\n  return {\n    showReceipt,\n    hideReceipt,\n    ReceiptModal,\n  };\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAEvC,OAASC,WAAW,KAAQ,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAqB1D,KAAM,CAAAC,eAAe,CAAG,CACtBC,IAAI,CAAE,sBAAsB,CAC5BC,OAAO,CAAE,oDAAoD,CAC7DC,KAAK,CAAE,gBAAgB,CACvBC,KAAK,CAAE,0BAA0B,CACjCC,GAAG,CAAE,cACP,CAAC,CAED,MAAO,SAAS,CAAAC,cAAcA,CAAAC,IAAA,CAAgD,IAA/C,CAAEC,WAAW,CAAEC,OAA6B,CAAC,CAAAF,IAAA,CAC1E,KAAM,CAACG,UAAU,CAAEC,aAAa,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAEnD,KAAM,CAAAkB,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9BD,aAAa,CAAC,IAAI,CAAC,CACnB,GAAI,CACF;AACA,KAAM,CAAAE,WAAW,CAAGC,MAAM,CAACC,IAAI,CAAC,EAAE,CAAE,QAAQ,CAAC,CAC7C,GAAIF,WAAW,CAAE,CACfA,WAAW,CAACG,QAAQ,CAACC,KAAK,CAACC,mBAAmB,CAACV,WAAW,CAAC,CAAC,CAC5DK,WAAW,CAACG,QAAQ,CAACG,KAAK,CAAC,CAAC,CAC5BN,WAAW,CAACO,KAAK,CAAC,CAAC,CACnBP,WAAW,CAACQ,KAAK,CAAC,CAAC,CACnBR,WAAW,CAACM,KAAK,CAAC,CAAC,CACrB,CACAV,OAAO,CAAC,CAAC,CACX,CAAE,MAAOa,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACvC,CAAC,OAAS,CACRX,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAED,mBACEZ,KAAA,QAAKyB,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExB5B,IAAA,QAAK2B,SAAS,CAAC,yDAAyD,CAAAC,QAAA,cACtE5B,IAAA,CAAC6B,cAAc,EAAClB,WAAW,CAAEA,WAAY,CAAE,CAAC,CACzC,CAAC,cAGNT,KAAA,WACE4B,OAAO,CAAEf,WAAY,CACrBgB,QAAQ,CAAElB,UAAW,CACrBc,SAAS,CAAC,mJAAmJ,CAAAC,QAAA,eAE7J5B,IAAA,CAACF,WAAW,EAAC6B,SAAS,CAAC,SAAS,CAAE,CAAC,CAClCd,UAAU,CAAG,aAAa,CAAG,eAAe,EACvC,CAAC,EACN,CAAC,CAEV,CAEA,QAAS,CAAAgB,cAAcA,CAAAG,KAAA,CAAgD,IAA/C,CAAErB,WAA0C,CAAC,CAAAqB,KAAA,CACnE,KAAM,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,aAAa,CAAEC,OAAO,CAAEC,QAAS,CAAC,CAAG1B,WAAW,CACxE,KAAM,CAAA2B,QAAQ,CAAGL,IAAI,CAACM,KAAK,CAACC,MAAM,CAChC,CAACC,GAAG,CAAEC,IAAI,GAAKD,GAAG,CAAGC,IAAI,CAACC,OAAO,CAACC,KAAK,CAAGF,IAAI,CAACG,QAAQ,CACvD,CACF,CAAC,CACD,KAAM,CAAAC,QAAQ,CAAGR,QAAQ,CAAGL,IAAI,CAACc,KAAK,CACtC,KAAM,CAAAC,GAAG,CAAGf,IAAI,CAACc,KAAK,CAAG,IAAI,CAAE;AAC/B,KAAM,CAAAE,UAAU,CAAGhB,IAAI,CAACc,KAAK,CAAGC,GAAG,CAEnC,mBACE9C,KAAA,QAAKyB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAE1C1B,KAAA,QAAKyB,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxC5B,IAAA,QAAK2B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAES,QAAQ,CAACjC,IAAI,CAAM,CAAC,cACxDJ,IAAA,QAAK2B,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAES,QAAQ,CAAChC,OAAO,CAAM,CAAC,cACjDH,KAAA,QAAKyB,SAAS,CAAC,SAAS,CAAAC,QAAA,EAAC,SAAO,CAACS,QAAQ,CAAC/B,KAAK,EAAM,CAAC,cACtDJ,KAAA,QAAKyB,SAAS,CAAC,SAAS,CAAAC,QAAA,EAAC,SAAO,CAACS,QAAQ,CAAC9B,KAAK,EAAM,CAAC,cACtDL,KAAA,QAAKyB,SAAS,CAAC,SAAS,CAAAC,QAAA,EAAC,OAAK,CAACS,QAAQ,CAAC7B,GAAG,EAAM,CAAC,EAC/C,CAAC,cAGNN,KAAA,QAAKyB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B1B,KAAA,QAAKyB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnC5B,IAAA,SAAA4B,QAAA,CAAM,YAAU,CAAM,CAAC,cACvB5B,IAAA,SAAA4B,QAAA,CAAOK,IAAI,CAACiB,EAAE,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAO,CAAC,EAC3C,CAAC,cACNlD,KAAA,QAAKyB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnC5B,IAAA,SAAA4B,QAAA,CAAM,OAAK,CAAM,CAAC,cAClB5B,IAAA,SAAA4B,QAAA,CAAO,GAAI,CAAAyB,IAAI,CAACpB,IAAI,CAACqB,SAAS,CAAC,CAACC,cAAc,CAAC,CAAC,CAAO,CAAC,EACrD,CAAC,cACNrD,KAAA,QAAKyB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnC5B,IAAA,SAAA4B,QAAA,CAAM,UAAQ,CAAM,CAAC,cACrB5B,IAAA,SAAA4B,QAAA,CAAOQ,OAAO,CAAO,CAAC,EACnB,CAAC,CACLF,QAAQ,eACPhC,KAAA,QAAKyB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnC5B,IAAA,SAAA4B,QAAA,CAAM,WAAS,CAAM,CAAC,cACtB5B,IAAA,SAAA4B,QAAA,CAAOM,QAAQ,CAAC9B,IAAI,CAAO,CAAC,EACzB,CACN,EACE,CAAC,cAGNF,KAAA,QAAKyB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B5B,IAAA,QAAK2B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,QAAM,CAAK,CAAC,CAC3CK,IAAI,CAACM,KAAK,CAACiB,GAAG,CAAC,CAACd,IAAI,CAAEe,KAAK,QAAAC,cAAA,oBAC1BxD,KAAA,QAAiByB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACpC1B,KAAA,QAAKyB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnC5B,IAAA,SAAM2B,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAEc,IAAI,CAACC,OAAO,CAACvC,IAAI,CAAO,CAAC,cACrDF,KAAA,SAAA0B,QAAA,EAAM,QAAC,CAACc,IAAI,CAACC,OAAO,CAACC,KAAK,CAACW,cAAc,CAAC,CAAC,EAAO,CAAC,EAChD,CAAC,cACNrD,KAAA,QAAKyB,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACzD1B,KAAA,SAAA0B,QAAA,EAAM,OACC,CAACc,IAAI,CAACG,QAAQ,CAAC,WAAI,CAACH,IAAI,CAACC,OAAO,CAACC,KAAK,CAACW,cAAc,CAAC,CAAC,EACxD,CAAC,cACPrD,KAAA,SAAA0B,QAAA,EAAM,QACH,CAAC,CAACc,IAAI,CAACC,OAAO,CAACC,KAAK,CAAGF,IAAI,CAACG,QAAQ,EAAEU,cAAc,CAAC,CAAC,EACnD,CAAC,EACJ,CAAC,CACL,EAAAG,cAAA,CAAChB,IAAI,CAACI,QAAQ,UAAAY,cAAA,UAAAA,cAAA,CAAI,CAAC,EAAI,CAAC,eACvBxD,KAAA,QAAKyB,SAAS,CAAC,2CAA2C,CAAAC,QAAA,eACxD5B,IAAA,SAAA4B,QAAA,CAAM,WAAS,CAAM,CAAC,cACtB1B,KAAA,SAAA0B,QAAA,EAAM,SAAE,CAAC,CAACc,IAAI,CAACI,QAAQ,EAAI,CAAC,EAAES,cAAc,CAAC,CAAC,EAAO,CAAC,EACnD,CACN,GAlBOE,KAmBL,CAAC,EACP,CAAC,EACC,CAAC,cAGNvD,KAAA,QAAKyB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B1B,KAAA,QAAKyB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnC5B,IAAA,SAAA4B,QAAA,CAAM,WAAS,CAAM,CAAC,cACtB1B,KAAA,SAAA0B,QAAA,EAAM,QAAC,CAACU,QAAQ,CAACiB,cAAc,CAAC,CAAC,EAAO,CAAC,EACtC,CAAC,CACLT,QAAQ,CAAG,CAAC,eACX5C,KAAA,QAAKyB,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD5B,IAAA,SAAA4B,QAAA,CAAM,WAAS,CAAM,CAAC,cACtB1B,KAAA,SAAA0B,QAAA,EAAM,SAAE,CAACkB,QAAQ,CAACS,cAAc,CAAC,CAAC,EAAO,CAAC,EACvC,CACN,cACDrD,KAAA,QAAKyB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnC5B,IAAA,SAAA4B,QAAA,CAAM,YAAU,CAAM,CAAC,cACvB1B,KAAA,SAAA0B,QAAA,EAAM,QAAC,CAACoB,GAAG,CAACO,cAAc,CAAC,CAAC,EAAO,CAAC,EACjC,CAAC,cACNrD,KAAA,QAAKyB,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD5B,IAAA,SAAA4B,QAAA,CAAM,QAAM,CAAM,CAAC,cACnB1B,KAAA,SAAA0B,QAAA,EAAM,QAAC,CAACqB,UAAU,CAACM,cAAc,CAAC,CAAC,EAAO,CAAC,EACxC,CAAC,EACH,CAAC,cAGNrD,KAAA,QAAKyB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B1B,KAAA,QAAKyB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnC5B,IAAA,SAAA4B,QAAA,CAAM,iBAAe,CAAM,CAAC,cAC5B5B,IAAA,SAAM2B,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEO,aAAa,CAACwB,OAAO,CAAC,GAAG,CAAE,GAAG,CAAC,CAAO,CAAC,EAClE,CAAC,cACNzD,KAAA,QAAKyB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnC5B,IAAA,SAAA4B,QAAA,CAAM,cAAY,CAAM,CAAC,cACzB1B,KAAA,SAAA0B,QAAA,EAAM,QAAC,CAACqB,UAAU,CAACM,cAAc,CAAC,CAAC,EAAO,CAAC,EACxC,CAAC,EACH,CAAC,cAGNrD,KAAA,QAAKyB,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvC5B,IAAA,QAAA4B,QAAA,CAAK,iCAA+B,CAAK,CAAC,cAC1C5B,IAAA,QAAA4B,QAAA,CAAK,sBAAoB,CAAK,CAAC,cAC/B5B,IAAA,QAAK2B,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,uBAAqB,CAAK,CAAC,EAC9C,CAAC,EACH,CAAC,CAEV,CAEA,QAAS,CAAAP,mBAAmBA,CAACV,WAAwB,CAAU,CAC7D,KAAM,CAAEsB,IAAI,CAAEC,QAAQ,CAAEC,aAAa,CAAEC,OAAO,CAAEC,QAAS,CAAC,CAAG1B,WAAW,CACxE,KAAM,CAAA2B,QAAQ,CAAGL,IAAI,CAACM,KAAK,CAACC,MAAM,CAChC,CAACC,GAAG,CAAEC,IAAI,GAAKD,GAAG,CAAGC,IAAI,CAACC,OAAO,CAACC,KAAK,CAAGF,IAAI,CAACG,QAAQ,CACvD,CACF,CAAC,CACD,KAAM,CAAAC,QAAQ,CAAGR,QAAQ,CAAGL,IAAI,CAACc,KAAK,CACtC,KAAM,CAAAC,GAAG,CAAGf,IAAI,CAACc,KAAK,CAAG,IAAI,CAC7B,KAAM,CAAAE,UAAU,CAAGhB,IAAI,CAACc,KAAK,CAAGC,GAAG,CAEnC,MAAO;AACT;AACA;AACA;AACA,yBAAyBf,IAAI,CAACiB,EAAE;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqDb,QAAQ,CAACjC,IAAI;AAClE,eAAeiC,QAAQ,CAAChC,OAAO;AAC/B,sBAAsBgC,QAAQ,CAAC/B,KAAK;AACpC,sBAAsB+B,QAAQ,CAAC9B,KAAK;AACpC,oBAAoB8B,QAAQ,CAAC7B,GAAG;AAChC;AACA;AACA;AACA,yDAAyDyB,IAAI,CAACiB,EAAE,CACrDC,KAAK,CAAC,CAAC,CAAC,CAAC,CACTC,WAAW,CAAC,CAAC;AACxB,oDAAoD,GAAI,CAAAC,IAAI,CAClDpB,IAAI,CAACqB,SACP,CAAC,CAACC,cAAc,CAAC,CAAC;AAC1B,uDAAuDnB,OAAO;AAC9D,UACUF,QAAQ,CACJ,iDAAiDA,QAAQ,CAAC9B,IAAI,eAAe,CAC7E,EAAE;AAChB;AACA;AACA;AACA;AACA,UACU6B,IAAI,CAACM,KAAK,CACTiB,GAAG,CACDd,IAAI,OAAAkB,eAAA,CAAAC,eAAA,OAAK;AACtB;AACA;AACA,sBAAsBnB,IAAI,CAACC,OAAO,CAACvC,IAAI;AACvC,uBAAuBsC,IAAI,CAACC,OAAO,CAACC,KAAK,CAACW,cAAc,CAAC,CAAC;AAC1D;AACA;AACA,2BACgBb,IAAI,CAACG,QAAQ,OACRH,IAAI,CAACC,OAAO,CAACC,KAAK,CAACW,cAAc,CAAC,CAAC;AACxD,uBAAuB,CACPb,IAAI,CAACC,OAAO,CAACC,KAAK,CAAGF,IAAI,CAACG,QAAQ,EAClCU,cAAc,CAAC,CAAC;AAChC;AACA,cACc,EAAAK,eAAA,CAAClB,IAAI,CAACI,QAAQ,UAAAc,eAAA,UAAAA,eAAA,CAAI,CAAC,EAAI,CAAC,CACpB,yFAAyF,EAAAC,eAAA,CACvFnB,IAAI,CAACI,QAAQ,UAAAe,eAAA,UAAAA,eAAA,CAAI,CAAC,EAClBN,cAAc,CAAC,CAAC,eAAe,CACjC,EAAE;AACpB;AACA,SACS,EACC,CAAC,CACAO,IAAI,CAAC,EAAE,CAAC;AACnB;AACA;AACA;AACA,yDAAyDxB,QAAQ,CAACiB,cAAc,CAAC,CAAC;AAClF,UACUT,QAAQ,CAAG,CAAC,CACR,mDAAmDA,QAAQ,CAACS,cAAc,CAAC,CAAC,eAAe,CAC3F,EAAE;AAChB,0DAC0DP,GAAG,CAACO,cAAc,CAAC,CAAC;AAC9E,4DAA4DN,UAAU,CAACM,cAAc,CAAC,CAAC;AACvF;AACA;AACA;AACA,8DAA8DpB,aAAa,CAChEwB,OAAO,CAAC,GAAG,CAAE,GAAG,CAAC,CACjBP,WAAW,CAAC,CAAC;AACxB,4DAA4DH,UAAU,CAACM,cAAc,CAAC,CAAC;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,CACH,CAEA,cAAe,CAAA9C,cAAc,CAE7B;AACA,MAAO,SAAS,CAAAsD,iBAAiBA,CAAA,CAAG,CAClC,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGpE,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACc,WAAW,CAAEuD,cAAc,CAAC,CAAGrE,QAAQ,CAAqB,IAAI,CAAC,CAExE,KAAM,CAAAsE,WAAW,CAAIC,IAAiB,EAAK,CACzCF,cAAc,CAACE,IAAI,CAAC,CACpBH,YAAY,CAAC,IAAI,CAAC,CACpB,CAAC,CAED,KAAM,CAAAI,WAAW,CAAGA,CAAA,GAAM,CACxBJ,YAAY,CAAC,KAAK,CAAC,CACnBC,cAAc,CAAC,IAAI,CAAC,CACtB,CAAC,CAED,KAAM,CAAAI,YAAY,CAAGA,CAAA,GAAM,CACzB,GAAI,CAACN,SAAS,EAAI,CAACrD,WAAW,CAAE,MAAO,KAAI,CAE3C,mBACEX,IAAA,QAAK2B,SAAS,CAAC,4EAA4E,CAAAC,QAAA,cACzF1B,KAAA,QAAKyB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eAC3D1B,KAAA,QAAKyB,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD5B,IAAA,OAAI2B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cAC1D5B,IAAA,WACE8B,OAAO,CAAEuC,WAAY,CACrB1C,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAC9C,MAED,CAAQ,CAAC,EACN,CAAC,cACN5B,IAAA,CAACS,cAAc,EAACE,WAAW,CAAEA,WAAY,CAACC,OAAO,CAAEyD,WAAY,CAAE,CAAC,EAC/D,CAAC,CACH,CAAC,CAEV,CAAC,CAED,MAAO,CACLF,WAAW,CACXE,WAAW,CACXC,YACF,CAAC,CACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}