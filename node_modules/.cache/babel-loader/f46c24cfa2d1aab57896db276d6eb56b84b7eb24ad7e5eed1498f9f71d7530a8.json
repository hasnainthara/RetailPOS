{"ast":null,"code":"var _jsxFileName = \"D:\\\\restaurantPOS\\\\src\\\\components\\\\ReceiptPrinter.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { PrinterIcon } from \"@heroicons/react/24/outline\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultShopInfo = {\n  name: \"Electronics Shop POS\",\n  address: \"123 Tech Street, Electronics Market, City - 123456\",\n  phone: \"+91 9876543210\",\n  email: \"info@electronicsshop.com\",\n  gst: \"GST123456789\"\n};\nexport function ReceiptPrinter({\n  receiptData,\n  onPrint\n}) {\n  _s();\n  const [isPrinting, setIsPrinting] = useState(false);\n  const handlePrint = async () => {\n    setIsPrinting(true);\n    try {\n      // Create a new window for printing\n      const printWindow = window.open(\"\", \"_blank\");\n      if (printWindow) {\n        printWindow.document.write(generateReceiptHTML(receiptData));\n        printWindow.document.close();\n        printWindow.focus();\n        printWindow.print();\n        printWindow.close();\n      }\n      onPrint();\n    } catch (error) {\n      console.error(\"Print failed:\", error);\n    } finally {\n      setIsPrinting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border rounded-lg p-4 max-h-96 overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(ReceiptPreview, {\n        receiptData: receiptData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handlePrint,\n      disabled: isPrinting,\n      className: \"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors\",\n      children: [/*#__PURE__*/_jsxDEV(PrinterIcon, {\n        className: \"h-4 w-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), isPrinting ? \"Printing...\" : \"Print Receipt\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(ReceiptPrinter, \"vD591Ap0rZ/2Qg3LkzxpV5rYKuw=\");\n_c = ReceiptPrinter;\nfunction ReceiptPreview({\n  receiptData\n}) {\n  const {\n    sale,\n    customer,\n    paymentMethod,\n    cashier,\n    shopInfo\n  } = receiptData;\n  const subtotal = sale.items.reduce((sum, item) => sum + item.product.price * item.quantity, 0);\n  const discount = subtotal - sale.total;\n  const tax = sale.total * 0.18; // 18% GST\n  const finalTotal = sale.total + tax;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"font-mono text-sm space-y-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center border-b pb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"font-bold text-lg\",\n        children: shopInfo.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs\",\n        children: shopInfo.address\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs\",\n        children: [\"Phone: \", shopInfo.phone]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs\",\n        children: [\"Email: \", shopInfo.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs\",\n        children: [\"GST: \", shopInfo.gst]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-b pb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Receipt #:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: sale.id.slice(-8).toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Date:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: new Date(sale.createdAt).toLocaleString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Cashier:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: cashier\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), customer && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Customer:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: customer.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-b pb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"font-bold mb-1\",\n        children: \"ITEMS:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), sale.items.map((item, index) => {\n        var _item$discount;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"truncate\",\n              children: item.product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u20B9\", item.product.price.toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between text-xs text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Qty: \", item.quantity, \" x \\u20B9\", item.product.price.toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u20B9\", (item.product.price * item.quantity).toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), ((_item$discount = item.discount) !== null && _item$discount !== void 0 ? _item$discount : 0) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between text-xs text-red-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Discount:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"-\\u20B9\", (item.discount || 0).toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-b pb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Subtotal:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u20B9\", subtotal.toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), discount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between text-red-600\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Discount:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"-\\u20B9\", discount.toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"GST (18%):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u20B9\", tax.toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between font-bold text-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"TOTAL:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u20B9\", finalTotal.toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-b pb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Payment Method:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"capitalize\",\n          children: paymentMethod.replace(\"_\", \" \")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Amount Paid:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u20B9\", finalTotal.toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center text-xs pt-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Thank you for shopping with us!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Visit us again soon!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2\",\n        children: \"*** CUSTOMER COPY ***\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n}\n_c2 = ReceiptPreview;\nfunction generateReceiptHTML(receiptData) {\n  const {\n    sale,\n    customer,\n    paymentMethod,\n    cashier,\n    shopInfo\n  } = receiptData;\n  const subtotal = sale.items.reduce((sum, item) => sum + item.product.price * item.quantity, 0);\n  const discount = subtotal - sale.total;\n  const tax = sale.total * 0.18;\n  const finalTotal = sale.total + tax;\n  return `\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <title>Receipt - ${sale.id}</title>\n      <style>\n        body {\n          font-family: 'Courier New', monospace;\n          font-size: 12px;\n          line-height: 1.4;\n          margin: 0;\n          padding: 20px;\n          width: 300px;\n        }\n        .center { text-align: center; }\n        .bold { font-weight: bold; }\n        .border-bottom { border-bottom: 1px dashed #000; padding-bottom: 8px; margin-bottom: 8px; }\n        .flex { display: flex; justify-content: space-between; }\n        .item { margin-bottom: 4px; }\n        .total { font-size: 14px; font-weight: bold; }\n        @media print {\n          body { margin: 0; padding: 10px; }\n        }\n      </style>\n    </head>\n    <body>\n      <div class=\"center border-bottom\">\n        <div class=\"bold\" style=\"font-size: 16px;\">${shopInfo.name}</div>\n        <div>${shopInfo.address}</div>\n        <div>Phone: ${shopInfo.phone}</div>\n        <div>Email: ${shopInfo.email}</div>\n        <div>GST: ${shopInfo.gst}</div>\n      </div>\n      \n      <div class=\"border-bottom\">\n        <div class=\"flex\"><span>Receipt #:</span><span>${sale.id.slice(-8).toUpperCase()}</span></div>\n        <div class=\"flex\"><span>Date:</span><span>${new Date(sale.createdAt).toLocaleString()}</span></div>\n        <div class=\"flex\"><span>Cashier:</span><span>${cashier}</span></div>\n        ${customer ? `<div class=\"flex\"><span>Customer:</span><span>${customer.name}</span></div>` : \"\"}\n      </div>\n      \n      <div class=\"border-bottom\">\n        <div class=\"bold\">ITEMS:</div>\n        ${sale.items.map(item => {\n    var _item$discount2, _item$discount3;\n    return `\n          <div class=\"item\">\n            <div class=\"flex\">\n              <span>${item.product.name}</span>\n              <span>₹${item.product.price.toLocaleString()}</span>\n            </div>\n            <div class=\"flex\" style=\"font-size: 10px;\">\n              <span>Qty: ${item.quantity} x ₹${item.product.price.toLocaleString()}</span>\n              <span>₹${(item.product.price * item.quantity).toLocaleString()}</span>\n            </div>\n            ${((_item$discount2 = item.discount) !== null && _item$discount2 !== void 0 ? _item$discount2 : 0) > 0 ? `<div class=\"flex\" style=\"font-size: 10px; color: #666;\"><span>Discount:</span><span>-₹${((_item$discount3 = item.discount) !== null && _item$discount3 !== void 0 ? _item$discount3 : 0).toLocaleString()}</span></div>` : \"\"}\n          </div>\n        `;\n  }).join(\"\")}\n      </div>\n      \n      <div class=\"border-bottom\">\n        <div class=\"flex\"><span>Subtotal:</span><span>₹${subtotal.toLocaleString()}</span></div>\n        ${discount > 0 ? `<div class=\"flex\"><span>Discount:</span><span>-₹${discount.toLocaleString()}</span></div>` : \"\"}\n        <div class=\"flex\"><span>GST (18%):</span><span>₹${tax.toLocaleString()}</span></div>\n        <div class=\"flex total\"><span>TOTAL:</span><span>₹${finalTotal.toLocaleString()}</span></div>\n      </div>\n      \n      <div class=\"border-bottom\">\n        <div class=\"flex\"><span>Payment Method:</span><span>${paymentMethod.replace(\"_\", \" \").toUpperCase()}</span></div>\n        <div class=\"flex\"><span>Amount Paid:</span><span>₹${finalTotal.toLocaleString()}</span></div>\n      </div>\n      \n      <div class=\"center\" style=\"margin-top: 16px;\">\n        <div>Thank you for shopping with us!</div>\n        <div>Visit us again soon!</div>\n        <div style=\"margin-top: 8px;\">*** CUSTOMER COPY ***</div>\n      </div>\n    </body>\n    </html>\n  `;\n}\nexport default ReceiptPrinter;\n\n// Hook for using receipt printer\nexport function useReceiptPrinter() {\n  _s2();\n  const [isVisible, setIsVisible] = useState(false);\n  const [receiptData, setReceiptData] = useState(null);\n  const showReceipt = data => {\n    setReceiptData(data);\n    setIsVisible(true);\n  };\n  const hideReceipt = () => {\n    setIsVisible(false);\n    setReceiptData(null);\n  };\n  const ReceiptModal = () => {\n    if (!isVisible || !receiptData) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg p-6 max-w-md w-full mx-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold\",\n            children: \"Receipt Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: hideReceipt,\n            className: \"text-gray-400 hover:text-gray-600\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ReceiptPrinter, {\n          receiptData: receiptData,\n          onPrint: hideReceipt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, this);\n  };\n  return {\n    showReceipt,\n    hideReceipt,\n    ReceiptModal\n  };\n}\n_s2(useReceiptPrinter, \"46qZjcOEaH+733oC+CIodwI8zrs=\");\nvar _c, _c2;\n$RefreshReg$(_c, \"ReceiptPrinter\");\n$RefreshReg$(_c2, \"ReceiptPreview\");","map":{"version":3,"names":["React","useState","PrinterIcon","jsxDEV","_jsxDEV","defaultShopInfo","name","address","phone","email","gst","ReceiptPrinter","receiptData","onPrint","_s","isPrinting","setIsPrinting","handlePrint","printWindow","window","open","document","write","generateReceiptHTML","close","focus","print","error","console","className","children","ReceiptPreview","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","_c","sale","customer","paymentMethod","cashier","shopInfo","subtotal","items","reduce","sum","item","product","price","quantity","discount","total","tax","finalTotal","id","slice","toUpperCase","Date","createdAt","toLocaleString","map","index","_item$discount","replace","_c2","_item$discount2","_item$discount3","join","useReceiptPrinter","_s2","isVisible","setIsVisible","setReceiptData","showReceipt","data","hideReceipt","ReceiptModal","$RefreshReg$"],"sources":["D:/restaurantPOS/src/components/ReceiptPrinter.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Sale, Customer } from \"../types\";\nimport { PrinterIcon } from \"@heroicons/react/24/outline\";\n\ninterface ReceiptData {\n  sale: Sale;\n  customer: Customer | null;\n  paymentMethod: string;\n  cashier: string;\n  shopInfo: {\n    name: string;\n    address: string;\n    phone: string;\n    email: string;\n    gst: string;\n  };\n}\n\ninterface ReceiptPrinterProps {\n  receiptData: ReceiptData;\n  onPrint: () => void;\n}\n\nconst defaultShopInfo = {\n  name: \"Electronics Shop POS\",\n  address: \"123 Tech Street, Electronics Market, City - 123456\",\n  phone: \"+91 9876543210\",\n  email: \"info@electronicsshop.com\",\n  gst: \"GST123456789\",\n};\n\nexport function ReceiptPrinter({ receiptData, onPrint }: ReceiptPrinterProps) {\n  const [isPrinting, setIsPrinting] = useState(false);\n\n  const handlePrint = async () => {\n    setIsPrinting(true);\n    try {\n      // Create a new window for printing\n      const printWindow = window.open(\"\", \"_blank\");\n      if (printWindow) {\n        printWindow.document.write(generateReceiptHTML(receiptData));\n        printWindow.document.close();\n        printWindow.focus();\n        printWindow.print();\n        printWindow.close();\n      }\n      onPrint();\n    } catch (error) {\n      console.error(\"Print failed:\", error);\n    } finally {\n      setIsPrinting(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Receipt Preview */}\n      <div className=\"bg-white border rounded-lg p-4 max-h-96 overflow-y-auto\">\n        <ReceiptPreview receiptData={receiptData} />\n      </div>\n\n      {/* Print Button */}\n      <button\n        onClick={handlePrint}\n        disabled={isPrinting}\n        className=\"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors\"\n      >\n        <PrinterIcon className=\"h-4 w-4\" />\n        {isPrinting ? \"Printing...\" : \"Print Receipt\"}\n      </button>\n    </div>\n  );\n}\n\nfunction ReceiptPreview({ receiptData }: { receiptData: ReceiptData }) {\n  const { sale, customer, paymentMethod, cashier, shopInfo } = receiptData;\n  const subtotal = sale.items.reduce(\n    (sum, item) => sum + item.product.price * item.quantity,\n    0\n  );\n  const discount = subtotal - sale.total;\n  const tax = sale.total * 0.18; // 18% GST\n  const finalTotal = sale.total + tax;\n\n  return (\n    <div className=\"font-mono text-sm space-y-2\">\n      {/* Header */}\n      <div className=\"text-center border-b pb-2\">\n        <div className=\"font-bold text-lg\">{shopInfo.name}</div>\n        <div className=\"text-xs\">{shopInfo.address}</div>\n        <div className=\"text-xs\">Phone: {shopInfo.phone}</div>\n        <div className=\"text-xs\">Email: {shopInfo.email}</div>\n        <div className=\"text-xs\">GST: {shopInfo.gst}</div>\n      </div>\n\n      {/* Sale Info */}\n      <div className=\"border-b pb-2\">\n        <div className=\"flex justify-between\">\n          <span>Receipt #:</span>\n          <span>{sale.id.slice(-8).toUpperCase()}</span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span>Date:</span>\n          <span>{new Date(sale.createdAt).toLocaleString()}</span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span>Cashier:</span>\n          <span>{cashier}</span>\n        </div>\n        {customer && (\n          <div className=\"flex justify-between\">\n            <span>Customer:</span>\n            <span>{customer.name}</span>\n          </div>\n        )}\n      </div>\n\n      {/* Items */}\n      <div className=\"border-b pb-2\">\n        <div className=\"font-bold mb-1\">ITEMS:</div>\n        {sale.items.map((item, index) => (\n          <div key={index} className=\"space-y-1\">\n            <div className=\"flex justify-between\">\n              <span className=\"truncate\">{item.product.name}</span>\n              <span>₹{item.product.price.toLocaleString()}</span>\n            </div>\n            <div className=\"flex justify-between text-xs text-gray-600\">\n              <span>\n                Qty: {item.quantity} x ₹{item.product.price.toLocaleString()}\n              </span>\n              <span>\n                ₹{(item.product.price * item.quantity).toLocaleString()}\n              </span>\n            </div>\n            {(item.discount ?? 0) > 0 && (\n              <div className=\"flex justify-between text-xs text-red-600\">\n                <span>Discount:</span>\n                <span>-₹{(item.discount || 0).toLocaleString()}</span>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n\n      {/* Totals */}\n      <div className=\"border-b pb-2\">\n        <div className=\"flex justify-between\">\n          <span>Subtotal:</span>\n          <span>₹{subtotal.toLocaleString()}</span>\n        </div>\n        {discount > 0 && (\n          <div className=\"flex justify-between text-red-600\">\n            <span>Discount:</span>\n            <span>-₹{discount.toLocaleString()}</span>\n          </div>\n        )}\n        <div className=\"flex justify-between\">\n          <span>GST (18%):</span>\n          <span>₹{tax.toLocaleString()}</span>\n        </div>\n        <div className=\"flex justify-between font-bold text-lg\">\n          <span>TOTAL:</span>\n          <span>₹{finalTotal.toLocaleString()}</span>\n        </div>\n      </div>\n\n      {/* Payment */}\n      <div className=\"border-b pb-2\">\n        <div className=\"flex justify-between\">\n          <span>Payment Method:</span>\n          <span className=\"capitalize\">{paymentMethod.replace(\"_\", \" \")}</span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span>Amount Paid:</span>\n          <span>₹{finalTotal.toLocaleString()}</span>\n        </div>\n      </div>\n\n      {/* Footer */}\n      <div className=\"text-center text-xs pt-2\">\n        <div>Thank you for shopping with us!</div>\n        <div>Visit us again soon!</div>\n        <div className=\"mt-2\">*** CUSTOMER COPY ***</div>\n      </div>\n    </div>\n  );\n}\n\nfunction generateReceiptHTML(receiptData: ReceiptData): string {\n  const { sale, customer, paymentMethod, cashier, shopInfo } = receiptData;\n  const subtotal = sale.items.reduce(\n    (sum, item) => sum + item.product.price * item.quantity,\n    0\n  );\n  const discount = subtotal - sale.total;\n  const tax = sale.total * 0.18;\n  const finalTotal = sale.total + tax;\n\n  return `\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <title>Receipt - ${sale.id}</title>\n      <style>\n        body {\n          font-family: 'Courier New', monospace;\n          font-size: 12px;\n          line-height: 1.4;\n          margin: 0;\n          padding: 20px;\n          width: 300px;\n        }\n        .center { text-align: center; }\n        .bold { font-weight: bold; }\n        .border-bottom { border-bottom: 1px dashed #000; padding-bottom: 8px; margin-bottom: 8px; }\n        .flex { display: flex; justify-content: space-between; }\n        .item { margin-bottom: 4px; }\n        .total { font-size: 14px; font-weight: bold; }\n        @media print {\n          body { margin: 0; padding: 10px; }\n        }\n      </style>\n    </head>\n    <body>\n      <div class=\"center border-bottom\">\n        <div class=\"bold\" style=\"font-size: 16px;\">${shopInfo.name}</div>\n        <div>${shopInfo.address}</div>\n        <div>Phone: ${shopInfo.phone}</div>\n        <div>Email: ${shopInfo.email}</div>\n        <div>GST: ${shopInfo.gst}</div>\n      </div>\n      \n      <div class=\"border-bottom\">\n        <div class=\"flex\"><span>Receipt #:</span><span>${sale.id\n          .slice(-8)\n          .toUpperCase()}</span></div>\n        <div class=\"flex\"><span>Date:</span><span>${new Date(\n          sale.createdAt\n        ).toLocaleString()}</span></div>\n        <div class=\"flex\"><span>Cashier:</span><span>${cashier}</span></div>\n        ${\n          customer\n            ? `<div class=\"flex\"><span>Customer:</span><span>${customer.name}</span></div>`\n            : \"\"\n        }\n      </div>\n      \n      <div class=\"border-bottom\">\n        <div class=\"bold\">ITEMS:</div>\n        ${sale.items\n          .map(\n            (item) => `\n          <div class=\"item\">\n            <div class=\"flex\">\n              <span>${item.product.name}</span>\n              <span>₹${item.product.price.toLocaleString()}</span>\n            </div>\n            <div class=\"flex\" style=\"font-size: 10px;\">\n              <span>Qty: ${\n                item.quantity\n              } x ₹${item.product.price.toLocaleString()}</span>\n              <span>₹${(\n                item.product.price * item.quantity\n              ).toLocaleString()}</span>\n            </div>\n            ${\n              (item.discount ?? 0) > 0\n                ? `<div class=\"flex\" style=\"font-size: 10px; color: #666;\"><span>Discount:</span><span>-₹${(\n                    item.discount ?? 0\n                  ).toLocaleString()}</span></div>`\n                : \"\"\n            }\n          </div>\n        `\n          )\n          .join(\"\")}\n      </div>\n      \n      <div class=\"border-bottom\">\n        <div class=\"flex\"><span>Subtotal:</span><span>₹${subtotal.toLocaleString()}</span></div>\n        ${\n          discount > 0\n            ? `<div class=\"flex\"><span>Discount:</span><span>-₹${discount.toLocaleString()}</span></div>`\n            : \"\"\n        }\n        <div class=\"flex\"><span>GST (18%):</span><span>₹${tax.toLocaleString()}</span></div>\n        <div class=\"flex total\"><span>TOTAL:</span><span>₹${finalTotal.toLocaleString()}</span></div>\n      </div>\n      \n      <div class=\"border-bottom\">\n        <div class=\"flex\"><span>Payment Method:</span><span>${paymentMethod\n          .replace(\"_\", \" \")\n          .toUpperCase()}</span></div>\n        <div class=\"flex\"><span>Amount Paid:</span><span>₹${finalTotal.toLocaleString()}</span></div>\n      </div>\n      \n      <div class=\"center\" style=\"margin-top: 16px;\">\n        <div>Thank you for shopping with us!</div>\n        <div>Visit us again soon!</div>\n        <div style=\"margin-top: 8px;\">*** CUSTOMER COPY ***</div>\n      </div>\n    </body>\n    </html>\n  `;\n}\n\nexport default ReceiptPrinter;\n\n// Hook for using receipt printer\nexport function useReceiptPrinter() {\n  const [isVisible, setIsVisible] = useState(false);\n  const [receiptData, setReceiptData] = useState<ReceiptData | null>(null);\n\n  const showReceipt = (data: ReceiptData) => {\n    setReceiptData(data);\n    setIsVisible(true);\n  };\n\n  const hideReceipt = () => {\n    setIsVisible(false);\n    setReceiptData(null);\n  };\n\n  const ReceiptModal = () => {\n    if (!isVisible || !receiptData) return null;\n\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n        <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h3 className=\"text-lg font-semibold\">Receipt Preview</h3>\n            <button\n              onClick={hideReceipt}\n              className=\"text-gray-400 hover:text-gray-600\"\n            >\n              ×\n            </button>\n          </div>\n          <ReceiptPrinter receiptData={receiptData} onPrint={hideReceipt} />\n        </div>\n      </div>\n    );\n  };\n\n  return {\n    showReceipt,\n    hideReceipt,\n    ReceiptModal,\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}